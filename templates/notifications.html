{% extends "base.html" %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h2 class="fw-bold m-0">Notifications</h2>
  <a class="btn btn-outline-dark" href="/board/">Back</a>
</div>

<div class="bg-white border rounded-4 p-3">
  {% for n in items %}
    <div class="border rounded-3 p-2 mb-2 d-flex justify-content-between">
      <div>
        <div class="fw-semibold">{{ n.title }}</div>
        <div class="text-muted small">{{ n.created_at }}</div>
        <div>{{ n.body }}</div>
        {% if n.is_read %}
          <span class="badge bg-secondary mt-2">Read</span>
        {% else %}
          <span class="badge bg-danger mt-2">Unread</span>
        {% endif %}
      </div>

      {% if not n.is_read %}
        <form method="POST" action="/notifications/{{ n.id }}/read/">
          {% csrf_token %}
          <button class="btn btn-sm btn-dark">Mark read</button>
        </form>
      {% endif %}
    </div>
  {% empty %}
    <div class="text-muted">No notifications yet.</div>
  {% endfor %}
</div>
{% endblock %}
